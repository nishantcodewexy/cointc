{"ast":null,"code":"/*!\n * chartjs-plugin-streaming v1.9.0\n * https://nagix.github.io/chartjs-plugin-streaming\n * (c) 2017-2021 Akihiko Kusanagi\n * Released under the MIT license\n */\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('chart.js'), require('moment')) : typeof define === 'function' && define.amd ? define(['chart.js', 'moment'], factory) : (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.ChartStreaming = factory(global.Chart, global.moment));\n})(this, function (Chart, moment) {\n  'use strict';\n\n  function _interopDefaultLegacy(e) {\n    return e && typeof e === 'object' && 'default' in e ? e : {\n      'default': e\n    };\n  }\n\n  var Chart__default = /*#__PURE__*/_interopDefaultLegacy(Chart);\n\n  var moment__default = /*#__PURE__*/_interopDefaultLegacy(moment);\n\n  var helpers$3 = Chart__default['default'].helpers;\n\n  var cancelAnimFrame = function () {\n    if (typeof window !== 'undefined') {\n      return window.cancelAnimationFrame || window.webkitCancelAnimationFrame || window.mozCancelAnimationFrame || window.oCancelAnimationFrame || window.msCancelAnimationFrame || function (id) {\n        return window.clearTimeout(id);\n      };\n    }\n  }();\n\n  var StreamingHelper = {\n    resolveOption(scale, key) {\n      var realtimeOpts = scale.options.realtime;\n      var streamingOpts = scale.chart.options.plugins.streaming;\n      return helpers$3.valueOrDefault(realtimeOpts[key], streamingOpts[key]);\n    },\n\n    startFrameRefreshTimer: function (context, func) {\n      if (!context.frameRequestID) {\n        var frameRefresh = function () {\n          func();\n          context.frameRequestID = helpers$3.requestAnimFrame.call(window, frameRefresh);\n        };\n\n        context.frameRequestID = helpers$3.requestAnimFrame.call(window, frameRefresh);\n      }\n    },\n    stopFrameRefreshTimer: function (context) {\n      var frameRequestID = context.frameRequestID;\n\n      if (frameRequestID) {\n        cancelAnimFrame.call(window, frameRequestID);\n        delete context.frameRequestID;\n      }\n    }\n  };\n\n  function isValid(rawValue) {\n    if (rawValue === null || typeof rawValue === 'undefined') {\n      return false;\n    } else if (typeof rawValue === 'number') {\n      return isFinite(rawValue);\n    }\n\n    return !!rawValue;\n  }\n\n  function scaleValue(scale, value, fallback) {\n    return isValid(value) ? {\n      value: scale.getPixelForValue(value),\n      transitionable: true\n    } : {\n      value: fallback\n    };\n  }\n\n  function updateBoxAnnotation(element) {\n    var chart = element.chartInstance;\n    var options = element.options;\n    var scales = chart.scales;\n    var chartArea = chart.chartArea;\n    var xScaleID = options.xScaleID;\n    var yScaleID = options.yScaleID;\n    var xScale = scales[xScaleID];\n    var yScale = scales[yScaleID];\n    var streaming = element._streaming = {};\n    var min, max, reverse;\n\n    if (xScale) {\n      min = scaleValue(xScale, options.xMin, chartArea.left);\n      max = scaleValue(xScale, options.xMax, chartArea.right);\n      reverse = min.value > max.value;\n\n      if (min.transitionable) {\n        streaming[reverse ? 'right' : 'left'] = {\n          axisId: xScaleID\n        };\n      }\n\n      if (max.transitionable) {\n        streaming[reverse ? 'left' : 'right'] = {\n          axisId: xScaleID\n        };\n      }\n    }\n\n    if (yScale) {\n      min = scaleValue(yScale, options.yMin, chartArea.top);\n      max = scaleValue(yScale, options.yMax, chartArea.bottom);\n      reverse = min.value > max.value;\n\n      if (min.transitionable) {\n        streaming[reverse ? 'bottom' : 'top'] = {\n          axisId: yScaleID\n        };\n      }\n\n      if (max.transitionable) {\n        streaming[reverse ? 'top' : 'bottom'] = {\n          axisId: yScaleID\n        };\n      }\n    }\n  }\n\n  function updateLineAnnotation(element) {\n    var chart = element.chartInstance;\n    var options = element.options;\n    var scaleID = options.scaleID;\n    var value = options.value;\n    var scale = chart.scales[scaleID];\n    var streaming = element._streaming = {};\n\n    if (scale) {\n      var isHorizontal = scale.isHorizontal();\n      var pixel = scaleValue(scale, value);\n\n      if (pixel.transitionable) {\n        streaming[isHorizontal ? 'x1' : 'y1'] = {\n          axisId: scaleID\n        };\n        streaming[isHorizontal ? 'x2' : 'y2'] = {\n          axisId: scaleID\n        };\n        streaming[isHorizontal ? 'labelX' : 'labelY'] = {\n          axisId: scaleID\n        };\n      }\n    }\n  }\n\n  function initAnnotationPlugin() {\n    var BoxAnnotation = Chart__default['default'].Annotation.types.box;\n    var LineAnnotation = Chart__default['default'].Annotation.types.line;\n    var configureBoxAnnotation = BoxAnnotation.prototype.configure;\n    var configureLineAnnotation = LineAnnotation.prototype.configure;\n\n    BoxAnnotation.prototype.configure = function () {\n      updateBoxAnnotation(this);\n      return configureBoxAnnotation.call(this);\n    };\n\n    LineAnnotation.prototype.configure = function () {\n      updateLineAnnotation(this);\n      return configureLineAnnotation.call(this);\n    };\n  }\n\n  var AnnotationPlugin = {\n    attachChart(chart) {\n      var streaming = chart.streaming;\n\n      if (!streaming.annotationPlugin) {\n        initAnnotationPlugin();\n        streaming.annotationPlugin = true;\n      }\n    },\n\n    getElements(chart) {\n      var annotation = chart.annotation;\n\n      if (annotation) {\n        var elements = annotation.elements;\n        return Object.keys(elements).map(function (id) {\n          return elements[id];\n        });\n      }\n\n      return [];\n    },\n\n    detachChart(chart) {\n      delete chart.streaming.annotationPlugin;\n    }\n\n  };\n  var helpers$2 = Chart__default['default'].helpers; // Ported from chartjs-plugin-zoom 0.7.0 3c187b7\n\n  var zoomNS = Chart__default['default'].Zoom = Chart__default['default'].Zoom || {}; // Ported from chartjs-plugin-zoom 0.7.0 3c187b7\n\n  zoomNS.zoomFunctions = zoomNS.zoomFunctions || {};\n  zoomNS.panFunctions = zoomNS.panFunctions || {}; // Ported from chartjs-plugin-zoom 0.7.0 3c187b7\n\n  function rangeMaxLimiter(zoomPanOptions, newMax) {\n    if (zoomPanOptions.scaleAxes && zoomPanOptions.rangeMax && !helpers$2.isNullOrUndef(zoomPanOptions.rangeMax[zoomPanOptions.scaleAxes])) {\n      var rangeMax = zoomPanOptions.rangeMax[zoomPanOptions.scaleAxes];\n\n      if (newMax > rangeMax) {\n        newMax = rangeMax;\n      }\n    }\n\n    return newMax;\n  } // Ported from chartjs-plugin-zoom 0.7.0 3c187b7\n\n\n  function rangeMinLimiter(zoomPanOptions, newMin) {\n    if (zoomPanOptions.scaleAxes && zoomPanOptions.rangeMin && !helpers$2.isNullOrUndef(zoomPanOptions.rangeMin[zoomPanOptions.scaleAxes])) {\n      var rangeMin = zoomPanOptions.rangeMin[zoomPanOptions.scaleAxes];\n\n      if (newMin < rangeMin) {\n        newMin = rangeMin;\n      }\n    }\n\n    return newMin;\n  }\n\n  function zoomRealTimeScale(scale, zoom, center, zoomOptions) {\n    var realtimeOpts = scale.options.realtime;\n    var duration = StreamingHelper.resolveOption(scale, 'duration');\n    var delay = StreamingHelper.resolveOption(scale, 'delay');\n    var newDuration = duration * (2 - zoom);\n    var maxPercent, limitedDuration;\n\n    if (scale.isHorizontal()) {\n      maxPercent = (scale.right - center.x) / (scale.right - scale.left);\n    } else {\n      maxPercent = (scale.bottom - center.y) / (scale.bottom - scale.top);\n    }\n\n    if (zoom < 1) {\n      limitedDuration = rangeMaxLimiter(zoomOptions, newDuration);\n    } else {\n      limitedDuration = rangeMinLimiter(zoomOptions, newDuration);\n    }\n\n    realtimeOpts.duration = limitedDuration;\n    realtimeOpts.delay = delay + maxPercent * (duration - limitedDuration);\n  }\n\n  function panRealTimeScale(scale, delta, panOptions) {\n    var realtimeOpts = scale.options.realtime;\n    var delay = StreamingHelper.resolveOption(scale, 'delay');\n    var newDelay = delay + (scale.getValueForPixel(delta) - scale.getValueForPixel(0));\n\n    if (delta > 0) {\n      realtimeOpts.delay = rangeMaxLimiter(panOptions, newDelay);\n    } else {\n      realtimeOpts.delay = rangeMinLimiter(panOptions, newDelay);\n    }\n  }\n\n  function updateResetZoom(chart) {\n    // For chartjs-plugin-zoom 0.6.6 backward compatibility\n    var zoom = chart.$zoom || {\n      _originalOptions: {}\n    };\n    var resetZoom = chart.resetZoom;\n    var update = chart.update;\n\n    var resetZoomAndUpdate = function () {\n      helpers$2.each(chart.scales, function (scale) {\n        var realtimeOptions = scale.options.realtime;\n        var originalOptions = zoom._originalOptions[scale.id] || scale.originalOptions;\n\n        if (realtimeOptions) {\n          if (originalOptions) {\n            realtimeOptions.duration = originalOptions.realtime.duration;\n            realtimeOptions.delay = originalOptions.realtime.delay;\n          } else {\n            delete realtimeOptions.duration;\n            delete realtimeOptions.delay;\n          }\n        }\n      });\n      update.call(chart, {\n        duration: 0\n      });\n    };\n\n    chart.resetZoom = function () {\n      chart.update = resetZoomAndUpdate;\n      resetZoom();\n      chart.update = update;\n    };\n  }\n\n  function initZoomPlugin() {\n    zoomNS.zoomFunctions.realtime = zoomRealTimeScale;\n    zoomNS.panFunctions.realtime = panRealTimeScale;\n  }\n\n  var ZoomPlugin = {\n    attachChart(chart) {\n      var streaming = chart.streaming;\n\n      if (!streaming.zoomPlugin) {\n        initZoomPlugin();\n        streaming.resetZoom = chart.resetZoom;\n        updateResetZoom(chart);\n        streaming.zoomPlugin = true;\n      }\n    },\n\n    detachChart(chart) {\n      var streaming = chart.streaming;\n\n      if (streaming.zoomPlugin) {\n        chart.resetZoom = streaming.resetZoom;\n        delete streaming.resetZoom;\n        delete streaming.zoomPlugin;\n      }\n    }\n\n  };\n  var helpers$1 = Chart__default['default'].helpers;\n  var canvasHelpers$1 = helpers$1.canvas;\n  var scaleService = Chart__default['default'].scaleService;\n  var TimeScale = scaleService.getScaleConstructor('time');\n\n  scaleService.getScaleConstructor = function (type) {\n    // For backwards compatibility\n    if (type === 'time') {\n      type = 'realtime';\n    }\n\n    return this.constructors.hasOwnProperty(type) ? this.constructors[type] : undefined;\n  }; // Ported from Chart.js 2.8.0 35273ee.\n\n\n  var MAX_INTEGER = Number.MAX_SAFE_INTEGER || 9007199254740991; // Ported from Chart.js 2.8.0 35273ee.\n\n  var INTERVALS = {\n    millisecond: {\n      common: true,\n      size: 1,\n      steps: [1, 2, 5, 10, 20, 50, 100, 250, 500]\n    },\n    second: {\n      common: true,\n      size: 1000,\n      steps: [1, 2, 5, 10, 15, 30]\n    },\n    minute: {\n      common: true,\n      size: 60000,\n      steps: [1, 2, 5, 10, 15, 30]\n    },\n    hour: {\n      common: true,\n      size: 3600000,\n      steps: [1, 2, 3, 6, 12]\n    },\n    day: {\n      common: true,\n      size: 86400000,\n      steps: [1, 2, 5]\n    },\n    week: {\n      common: false,\n      size: 604800000,\n      steps: [1, 2, 3, 4]\n    },\n    month: {\n      common: true,\n      size: 2.628e9,\n      steps: [1, 2, 3]\n    },\n    quarter: {\n      common: false,\n      size: 7.884e9,\n      steps: [1, 2, 3, 4]\n    },\n    year: {\n      common: true,\n      size: 3.154e10\n    }\n  }; // Ported from Chart.js 2.8.0 35273ee.\n\n  var UNITS = Object.keys(INTERVALS); // For Chart.js 2.7.x backward compatibility\n\n  var defaultAdapter = {\n    // Ported from Chart.js 2.9.4 707e52a.\n    parse: function (value, format) {\n      if (typeof value === 'string' && typeof format === 'string') {\n        value = moment__default['default'](value, format);\n      } else if (!(value instanceof moment__default['default'])) {\n        value = moment__default['default'](value);\n      }\n\n      return value.isValid() ? value.valueOf() : null;\n    },\n    // Ported from Chart.js 2.9.4 707e52a.\n    add: function (time, amount, unit) {\n      return moment__default['default'](time).add(amount, unit).valueOf();\n    },\n    // Ported from Chart.js 2.9.4 707e52a.\n    startOf: function (time, unit, weekday) {\n      time = moment__default['default'](time);\n\n      if (unit === 'isoWeek') {\n        return time.isoWeekday(weekday).valueOf();\n      }\n\n      return time.startOf(unit).valueOf();\n    }\n  }; // Ported from Chart.js 2.8.0 35273ee. Modified for Chart.js 2.7.x backward compatibility.\n\n  function toTimestamp(scale, input) {\n    var adapter = scale._adapter || defaultAdapter;\n    var options = scale.options.time;\n    var parser = options.parser;\n    var format = parser || options.format;\n    var value = input;\n\n    if (typeof parser === 'function') {\n      value = parser(value);\n    } // Only parse if its not a timestamp already\n\n\n    if (typeof value !== 'number' && !(value instanceof Number) || !isFinite(value)) {\n      value = typeof format === 'string' ? adapter.parse(value, format) : adapter.parse(value);\n    }\n\n    if (value !== null) {\n      return +value;\n    } // Labels are in an incompatible format and no `parser` has been provided.\n    // The user might still use the deprecated `format` option for parsing.\n\n\n    if (!parser && typeof format === 'function') {\n      value = format(input); // `format` could return something else than a timestamp, if so, parse it\n\n      if (typeof value !== 'number' && !(value instanceof Number) || !isFinite(value)) {\n        value = adapter.parse(value);\n      }\n    }\n\n    return value;\n  } // Ported from Chart.js 2.8.0 35273ee. Modified for Chart.js 2.7.x backward compatibility.\n\n\n  function parse(scale, input) {\n    if (helpers$1.isNullOrUndef(input)) {\n      return null;\n    }\n\n    var options = scale.options.time;\n    var value = toTimestamp(scale, scale.getRightValue(input));\n\n    if (value === null) {\n      return value;\n    }\n\n    if (options.round) {\n      value = +(scale._adapter || defaultAdapter).startOf(value, options.round);\n    }\n\n    return value;\n  } // Ported from Chart.js 2.8.0 35273ee.\n\n\n  function determineStepSize(min, max, unit, capacity) {\n    var range = max - min;\n    var interval = INTERVALS[unit];\n    var milliseconds = interval.size;\n    var steps = interval.steps;\n    var i, ilen, factor;\n\n    if (!steps) {\n      return Math.ceil(range / (capacity * milliseconds));\n    }\n\n    for (i = 0, ilen = steps.length; i < ilen; ++i) {\n      factor = steps[i];\n\n      if (Math.ceil(range / (milliseconds * factor)) <= capacity) {\n        break;\n      }\n    }\n\n    return factor;\n  } // Ported from Chart.js 2.8.0 35273ee.\n\n\n  function determineUnitForAutoTicks(minUnit, min, max, capacity) {\n    var ilen = UNITS.length;\n    var i, interval, factor;\n\n    for (i = UNITS.indexOf(minUnit); i < ilen - 1; ++i) {\n      interval = INTERVALS[UNITS[i]];\n      factor = interval.steps ? interval.steps[interval.steps.length - 1] : MAX_INTEGER;\n\n      if (interval.common && Math.ceil((max - min) / (factor * interval.size)) <= capacity) {\n        return UNITS[i];\n      }\n    }\n\n    return UNITS[ilen - 1];\n  } // Ported from Chart.js 2.8.0 35273ee.\n\n\n  function determineMajorUnit(unit) {\n    for (var i = UNITS.indexOf(unit) + 1, ilen = UNITS.length; i < ilen; ++i) {\n      if (INTERVALS[UNITS[i]].common) {\n        return UNITS[i];\n      }\n    }\n  } // Ported from Chart.js 2.8.0 35273ee. Modified for Chart.js 2.7.x backward compatibility.\n\n\n  function generate(scale, min, max, capacity) {\n    var adapter = scale._adapter || defaultAdapter;\n    var options = scale.options;\n    var timeOpts = options.time;\n    var minor = timeOpts.unit || determineUnitForAutoTicks(timeOpts.minUnit, min, max, capacity);\n    var major = determineMajorUnit(minor);\n    var stepSize = helpers$1.valueOrDefault(timeOpts.stepSize, timeOpts.unitStepSize);\n    var weekday = minor === 'week' ? timeOpts.isoWeekday : false;\n    var majorTicksEnabled = options.ticks.major.enabled;\n    var interval = INTERVALS[minor];\n    var first = min;\n    var last = max;\n    var ticks = [];\n    var time;\n\n    if (!stepSize) {\n      stepSize = determineStepSize(min, max, minor, capacity);\n    } // For 'week' unit, handle the first day of week option\n\n\n    if (weekday) {\n      first = +adapter.startOf(first, 'isoWeek', weekday);\n      last = +adapter.startOf(last, 'isoWeek', weekday);\n    } // Align first/last ticks on unit\n\n\n    first = +adapter.startOf(first, weekday ? 'day' : minor);\n    last = +adapter.startOf(last, weekday ? 'day' : minor); // Make sure that the last tick include max\n\n    if (last < max) {\n      last = +adapter.add(last, 1, minor);\n    }\n\n    time = first;\n\n    if (majorTicksEnabled && major && !weekday && !timeOpts.round) {\n      // Align the first tick on the previous `minor` unit aligned on the `major` unit:\n      // we first aligned time on the previous `major` unit then add the number of full\n      // stepSize there is between first and the previous major time.\n      time = +adapter.startOf(time, major);\n      time = +adapter.add(time, ~~((first - time) / (interval.size * stepSize)) * stepSize, minor);\n    }\n\n    for (; time < last; time = +adapter.add(time, stepSize, minor)) {\n      ticks.push(+time);\n    }\n\n    ticks.push(+time);\n    return ticks;\n  }\n\n  var datasetPropertyKeys = ['pointBackgroundColor', 'pointBorderColor', 'pointBorderWidth', 'pointRadius', 'pointRotation', 'pointStyle', 'pointHitRadius', 'pointHoverBackgroundColor', 'pointHoverBorderColor', 'pointHoverBorderWidth', 'pointHoverRadius', 'backgroundColor', 'borderColor', 'borderSkipped', 'borderWidth', 'hoverBackgroundColor', 'hoverBorderColor', 'hoverBorderWidth', 'hoverRadius', 'hitRadius', 'radius', 'rotation'];\n\n  function refreshData(scale) {\n    var chart = scale.chart;\n    var id = scale.id;\n    var duration = StreamingHelper.resolveOption(scale, 'duration');\n    var delay = StreamingHelper.resolveOption(scale, 'delay');\n    var ttl = StreamingHelper.resolveOption(scale, 'ttl');\n    var pause = StreamingHelper.resolveOption(scale, 'pause');\n    var onRefresh = StreamingHelper.resolveOption(scale, 'onRefresh');\n    var max = scale.max;\n    var min = Date.now() - (isNaN(ttl) ? duration + delay : ttl);\n    var meta, data, length, i, start, count, removalRange;\n\n    if (onRefresh) {\n      onRefresh(chart);\n    } // Remove old data\n\n\n    helpers$1.each(chart.data.datasets, function (dataset, datasetIndex) {\n      meta = chart.getDatasetMeta(datasetIndex);\n\n      if (id === meta.xAxisID || id === meta.yAxisID) {\n        data = dataset.data;\n        length = data.length;\n\n        if (pause) {\n          // If the scale is paused, preserve the visible data points\n          for (i = 0; i < length; ++i) {\n            if (!(scale._getTimeForIndex(i, datasetIndex) < max)) {\n              break;\n            }\n          }\n\n          start = i + 2;\n        } else {\n          start = 0;\n        }\n\n        for (i = start; i < length; ++i) {\n          if (!(scale._getTimeForIndex(i, datasetIndex) <= min)) {\n            break;\n          }\n        }\n\n        count = i - start;\n\n        if (isNaN(ttl)) {\n          // Keep the last two data points outside the range not to affect the existing bezier curve\n          count = Math.max(count - 2, 0);\n        }\n\n        data.splice(start, count);\n        helpers$1.each(datasetPropertyKeys, function (key) {\n          if (helpers$1.isArray(dataset[key])) {\n            dataset[key].splice(start, count);\n          }\n        });\n        helpers$1.each(dataset.datalabels, function (value) {\n          if (helpers$1.isArray(value)) {\n            value.splice(start, count);\n          }\n        });\n\n        if (typeof data[0] !== 'object') {\n          removalRange = {\n            start: start,\n            count: count\n          };\n        }\n      }\n    });\n\n    if (removalRange) {\n      chart.data.labels.splice(removalRange.start, removalRange.count);\n    }\n\n    chart.update({\n      preservation: true\n    });\n  }\n\n  function stopDataRefreshTimer(scale) {\n    var realtime = scale.realtime;\n    var refreshTimerID = realtime.refreshTimerID;\n\n    if (refreshTimerID) {\n      clearInterval(refreshTimerID);\n      delete realtime.refreshTimerID;\n      delete realtime.refreshInterval;\n    }\n  }\n\n  function startDataRefreshTimer(scale) {\n    var realtime = scale.realtime;\n    var interval = StreamingHelper.resolveOption(scale, 'refresh');\n    realtime.refreshTimerID = setInterval(function () {\n      var newInterval = StreamingHelper.resolveOption(scale, 'refresh');\n      refreshData(scale);\n\n      if (realtime.refreshInterval !== newInterval && !isNaN(newInterval)) {\n        stopDataRefreshTimer(scale);\n        startDataRefreshTimer(scale);\n      }\n    }, interval);\n    realtime.refreshInterval = interval;\n  }\n\n  function transition(element, id, translate) {\n    var start = element._start || {};\n    var view = element._view || {};\n    var model = element._model || {};\n    helpers$1.each(element._streaming, (item, key) => {\n      if (item.axisId === id) {\n        if (start.hasOwnProperty(key)) {\n          start[key] -= translate;\n        }\n\n        if (view.hasOwnProperty(key) && view !== start) {\n          view[key] -= translate;\n        }\n\n        if (model.hasOwnProperty(key) && model !== view) {\n          model[key] -= translate;\n        }\n      }\n    });\n  }\n\n  function scroll(scale) {\n    var chart = scale.chart;\n    var realtime = scale.realtime;\n    var id = scale.id;\n    var duration = StreamingHelper.resolveOption(scale, 'duration');\n    var delay = StreamingHelper.resolveOption(scale, 'delay');\n    var isHorizontal = scale.isHorizontal();\n    var length = isHorizontal ? scale.width : scale.height;\n    var now = Date.now(); // For Chart.js 2.8.x backward compatibility\n\n    var reverse = scale.options.ticks.reverse || !(isHorizontal || '_reversePixels' in scale);\n    var tooltip = chart.tooltip;\n    var annotations = AnnotationPlugin.getElements(chart);\n    var offset = length * (now - realtime.head) / duration;\n    var i, ilen;\n\n    if (isHorizontal === reverse) {\n      offset = -offset;\n    } // Shift all the elements leftward or downward\n\n\n    helpers$1.each(chart.data.datasets, function (dataset, datasetIndex) {\n      var meta = chart.getDatasetMeta(datasetIndex);\n      var elements = meta.data || [];\n      var element = meta.dataset;\n\n      for (i = 0, ilen = elements.length; i < ilen; ++i) {\n        transition(elements[i], id, offset);\n      }\n\n      if (element) {\n        transition(element, id, offset);\n      }\n    }); // Shift all the annotation elements leftward or downward\n\n    for (i = 0, ilen = annotations.length; i < ilen; ++i) {\n      transition(annotations[i], id, offset);\n    } // Shift tooltip leftward or downward\n\n\n    transition(tooltip, id, offset);\n    scale.max = scale._table[1].time = now - delay;\n    scale.min = scale._table[0].time = scale.max - duration;\n    realtime.head = now;\n  }\n\n  var defaultConfig = {\n    position: 'bottom',\n    distribution: 'linear',\n    bounds: 'data',\n    adapters: {},\n    time: {\n      parser: false,\n      // false == a pattern string from http://momentjs.com/docs/#/parsing/string-format/ or a custom callback that converts its argument to a moment\n      unit: false,\n      // false == automatic or override with week, month, year, etc.\n      round: false,\n      // none, or override with week, month, year, etc.\n      displayFormat: false,\n      // DEPRECATED\n      isoWeekday: false,\n      // override week start day - see http://momentjs.com/docs/#/get-set/iso-weekday/\n      minUnit: 'millisecond',\n      // defaults to unit's corresponding unitFormat below or override using pattern string from http://momentjs.com/docs/#/displaying/format/\n      displayFormats: {\n        millisecond: 'h:mm:ss.SSS a',\n        second: 'h:mm:ss a',\n        minute: 'h:mm a',\n        hour: 'hA',\n        day: 'MMM D',\n        week: 'll',\n        month: 'MMM YYYY',\n        quarter: '[Q]Q - YYYY',\n        year: 'YYYY'\n      }\n    },\n    realtime: {},\n    ticks: {\n      autoSkip: false,\n      source: 'auto',\n      major: {\n        enabled: true\n      }\n    }\n  };\n  var RealTimeScale = TimeScale.extend({\n    initialize: function () {\n      var me = this;\n      TimeScale.prototype.initialize.apply(me, arguments); // For backwards compatibility\n\n      if (me.options.type === 'time' && !me.chart.options.plugins.streaming) {\n        return;\n      }\n\n      me.realtime = me.realtime || {};\n      startDataRefreshTimer(me);\n    },\n    update: function () {\n      var me = this;\n      var realtime = me.realtime;\n      var options = me.options;\n      var bounds = options.bounds;\n      var distribution = options.distribution;\n      var offset = options.offset;\n      var ticksOpts = options.ticks;\n      var autoSkip = ticksOpts.autoSkip;\n      var source = ticksOpts.source;\n      var minTick = ticksOpts.min;\n      var maxTick = ticksOpts.max;\n      var majorTicksOpts = ticksOpts.major;\n      var majorEnabled = majorTicksOpts.enabled;\n      var minSize; // For backwards compatibility\n\n      if (options.type === 'time' && !me.chart.options.plugins.streaming) {\n        return TimeScale.prototype.update.apply(me, arguments);\n      }\n\n      if (StreamingHelper.resolveOption(me, 'pause')) {\n        StreamingHelper.stopFrameRefreshTimer(realtime);\n      } else {\n        StreamingHelper.startFrameRefreshTimer(realtime, function () {\n          scroll(me);\n        });\n        realtime.head = Date.now();\n      }\n\n      options.bounds = undefined;\n      options.distribution = 'linear';\n      options.offset = false;\n      ticksOpts.autoSkip = false;\n      ticksOpts.source = source === 'auto' ? '' : source;\n      ticksOpts.min = -1e15;\n      ticksOpts.max = 1e15;\n      majorTicksOpts.enabled = true;\n      minSize = TimeScale.prototype.update.apply(me, arguments);\n      options.bounds = bounds;\n      options.distribution = distribution;\n      options.offset = offset;\n      ticksOpts.autoSkip = autoSkip;\n      ticksOpts.source = source;\n      ticksOpts.min = minTick;\n      ticksOpts.max = maxTick;\n      majorTicksOpts.enabled = majorEnabled;\n      return minSize;\n    },\n    buildTicks: function () {\n      var me = this;\n      var options = me.options; // For backwards compatibility\n\n      if (options.type === 'time' && !me.chart.options.plugins.streaming) {\n        return TimeScale.prototype.buildTicks.apply(me, arguments);\n      }\n\n      var duration = StreamingHelper.resolveOption(me, 'duration');\n      var delay = StreamingHelper.resolveOption(me, 'delay');\n      var refresh = StreamingHelper.resolveOption(me, 'refresh');\n      var ticksOpts = options.ticks;\n      var source = ticksOpts.source;\n      var timestamps = me._timestamps.data;\n      var max = me.realtime.head - delay;\n      var min = max - duration;\n      var maxArray = [max + refresh, max];\n      var ticks;\n\n      if (source === '') {\n        ticksOpts.source = 'data';\n        me._timestamps.data = generate(me, min, max + refresh, me.getLabelCapacity(min));\n      }\n\n      Object.defineProperty(me, 'min', {\n        get: function () {\n          return min;\n        },\n        set: helpers$1.noop\n      });\n      Object.defineProperty(me, 'max', {\n        get: function () {\n          return maxArray.shift();\n        },\n        set: helpers$1.noop\n      });\n      ticks = TimeScale.prototype.buildTicks.apply(me, arguments);\n      delete me.min;\n      delete me.max;\n      me.min = min;\n      me.max = max;\n\n      if (source === '') {\n        ticksOpts.source = source;\n        me._timestamps.data = timestamps;\n      }\n\n      me._table = [{\n        time: min,\n        pos: 0\n      }, {\n        time: max,\n        pos: 1\n      }];\n      return ticks;\n    },\n    calculateTickRotation: function () {\n      var me = this;\n      var options = me.options;\n      var ticksOpts = options.ticks;\n      var maxRotation = ticksOpts.maxRotation; // For backwards compatibility\n\n      if (options.type === 'time' && !me.chart.options.plugins.streaming) {\n        TimeScale.prototype.calculateTickRotation.apply(me, arguments);\n        return;\n      }\n\n      ticksOpts.maxRotation = ticksOpts.minRotation || 0;\n      TimeScale.prototype.calculateTickRotation.apply(me, arguments);\n      ticksOpts.maxRotation = maxRotation;\n    },\n    fit: function () {\n      var me = this;\n      var options = me.options;\n      TimeScale.prototype.fit.apply(me, arguments); // For backwards compatibility\n\n      if (options.type === 'time' && !me.chart.options.plugins.streaming) {\n        return;\n      }\n\n      if (options.ticks.display && options.display && me.isHorizontal()) {\n        me.paddingLeft = 3;\n        me.paddingRight = 3;\n        me.handleMargins();\n      }\n    },\n    draw: function (chartArea) {\n      var me = this;\n      var chart = me.chart; // For backwards compatibility\n\n      if (me.options.type === 'time' && !chart.options.plugins.streaming) {\n        TimeScale.prototype.draw.apply(me, arguments);\n        return;\n      }\n\n      var context = me.ctx;\n      var clipArea = me.isHorizontal() ? {\n        left: chartArea.left,\n        top: 0,\n        right: chartArea.right,\n        bottom: chart.height\n      } : {\n        left: 0,\n        top: chartArea.top,\n        right: chart.width,\n        bottom: chartArea.bottom\n      };\n      me._gridLineItems = null;\n      me._labelItems = null; // Clip and draw the scale\n\n      canvasHelpers$1.clipArea(context, clipArea);\n      TimeScale.prototype.draw.apply(me, arguments);\n      canvasHelpers$1.unclipArea(context);\n    },\n    destroy: function () {\n      var me = this; // For backwards compatibility\n\n      if (me.options.type === 'time' && !me.chart.options.plugins.streaming) {\n        return;\n      }\n\n      StreamingHelper.stopFrameRefreshTimer(me.realtime);\n      stopDataRefreshTimer(me);\n    },\n\n    /*\n     * @private\n     */\n    _getTimeForIndex: function (index, datasetIndex) {\n      var me = this;\n      var timestamps = me._timestamps;\n      var time = timestamps.datasets[datasetIndex][index];\n      var value;\n\n      if (helpers$1.isNullOrUndef(time)) {\n        value = me.chart.data.datasets[datasetIndex].data[index];\n\n        if (helpers$1.isObject(value)) {\n          time = parse(me, value);\n        } else {\n          time = parse(me, timestamps.labels[index]);\n        }\n      }\n\n      return time;\n    }\n  });\n  scaleService.registerScaleType('realtime', RealTimeScale, defaultConfig);\n  var helpers = Chart__default['default'].helpers;\n  var canvasHelpers = helpers.canvas;\n  Chart__default['default'].defaults.global.plugins.streaming = {\n    duration: 10000,\n    delay: 0,\n    frameRate: 30,\n    refresh: 1000,\n    onRefresh: null,\n    pause: false,\n    ttl: undefined\n  }; // Ported from Chart.js 2.9.4 d6a5ea0. Modified for realtime scale.\n\n  Chart__default['default'].defaults.global.legend.onClick = function (e, legendItem) {\n    var index = legendItem.datasetIndex;\n    var ci = this.chart;\n    var meta = ci.getDatasetMeta(index);\n    meta.hidden = meta.hidden === null ? !ci.data.datasets[index].hidden : null;\n    ci.update({\n      duration: 0\n    });\n  };\n\n  function getAxisMap(element, keys, meta) {\n    var axisMap = {};\n    helpers.each(keys.x, function (key) {\n      axisMap[key] = {\n        axisId: meta.xAxisID\n      };\n    });\n    helpers.each(keys.y, function (key) {\n      axisMap[key] = {\n        axisId: meta.yAxisID\n      };\n    });\n    return axisMap;\n  }\n\n  var transitionKeys = {\n    x: ['x', 'controlPointPreviousX', 'controlPointNextX', 'caretX'],\n    y: ['y', 'controlPointPreviousY', 'controlPointNextY', 'caretY']\n  };\n\n  function updateElements(chart) {\n    helpers.each(chart.data.datasets, function (dataset, datasetIndex) {\n      var meta = chart.getDatasetMeta(datasetIndex);\n      var elements = meta.data || [];\n      var element = meta.dataset;\n      var i, ilen;\n\n      for (i = 0, ilen = elements.length; i < ilen; ++i) {\n        elements[i]._streaming = getAxisMap(elements[i], transitionKeys, meta);\n      }\n\n      if (element) {\n        element._streaming = getAxisMap(element, transitionKeys, meta);\n      }\n    });\n  }\n  /**\n   * Update the chart keeping the current animation but suppressing a new one\n   * @param {object} config - animation options\n   */\n\n\n  function update(config) {\n    var me = this;\n    var preservation = config && config.preservation;\n    var tooltip, lastActive, tooltipLastActive, lastMouseEvent, legend, legendUpdate;\n\n    if (preservation) {\n      tooltip = me.tooltip;\n      lastActive = me.lastActive;\n      tooltipLastActive = tooltip._lastActive;\n      me._bufferedRender = true;\n      legend = me.legend; // Skip legend update\n\n      if (legend) {\n        legendUpdate = legend.update;\n        legend.update = helpers.noop;\n      }\n    }\n\n    Chart__default['default'].prototype.update.apply(me, arguments);\n\n    if (preservation) {\n      me._bufferedRender = false;\n      me._bufferedRequest = null;\n      me.lastActive = lastActive;\n      tooltip._lastActive = tooltipLastActive;\n\n      if (legend) {\n        legend.update = legendUpdate;\n      }\n\n      if (me.animating) {\n        // If the chart is animating, keep it until the duration is over\n        Chart__default['default'].animationService.animations.forEach(function (animation) {\n          if (animation.chart === me) {\n            me.render({\n              duration: (animation.numSteps - animation.currentStep) * 16.66\n            });\n          }\n        });\n      } else {\n        // If the chart is not animating, make sure that all elements are at the final positions\n        me.data.datasets.forEach(function (dataset, datasetIndex) {\n          me.getDatasetMeta(datasetIndex).controller.transition(1);\n        });\n      }\n\n      if (tooltip._active) {\n        tooltip.update(true);\n      }\n\n      lastMouseEvent = me.streaming.lastMouseEvent;\n\n      if (lastMouseEvent) {\n        me.eventHandler(lastMouseEvent);\n      }\n    }\n  }\n\n  function tooltipUpdate() {\n    var me = this;\n    var element = me._active && me._active[0];\n    var meta;\n\n    if (element) {\n      meta = me._chart.getDatasetMeta(element._datasetIndex);\n      me._streaming = getAxisMap(me, transitionKeys, meta);\n    } else {\n      me._streaming = {};\n    }\n\n    return Chart__default['default'].Tooltip.prototype.update.apply(me, arguments);\n  } // Draw chart at frameRate\n\n\n  function drawChart(chart) {\n    var streaming = chart.streaming;\n    var frameRate = chart.options.plugins.streaming.frameRate;\n    var frameDuration = 1000 / (Math.max(frameRate, 0) || 30);\n    var next = streaming.lastDrawn + frameDuration || 0;\n    var now = Date.now();\n    var lastMouseEvent = streaming.lastMouseEvent;\n\n    if (next <= now) {\n      // Draw only when animation is inactive\n      if (!chart.animating && !chart.tooltip._start) {\n        chart.draw();\n      }\n\n      if (lastMouseEvent) {\n        chart.eventHandler(lastMouseEvent);\n      }\n\n      streaming.lastDrawn = next + frameDuration > now ? next : now;\n    }\n  }\n\n  var StreamingPlugin = {\n    id: 'streaming',\n    beforeInit: function (chart) {\n      var streaming = chart.streaming = chart.streaming || {};\n      var canvas = streaming.canvas = chart.canvas;\n\n      var mouseEventListener = streaming.mouseEventListener = function (event) {\n        var pos = helpers.getRelativePosition(event, chart);\n        streaming.lastMouseEvent = {\n          type: 'mousemove',\n          chart: chart,\n          native: event,\n          x: pos.x,\n          y: pos.y\n        };\n      };\n\n      canvas.addEventListener('mousedown', mouseEventListener);\n      canvas.addEventListener('mouseup', mouseEventListener);\n    },\n    afterInit: function (chart) {\n      chart.update = update;\n      chart.tooltip.update = tooltipUpdate;\n    },\n    beforeUpdate: function (chart) {\n      var chartOpts = chart.options;\n      var scalesOpts = chartOpts.scales;\n\n      if (scalesOpts) {\n        helpers.each(scalesOpts.xAxes.concat(scalesOpts.yAxes), function (scaleOpts) {\n          if (scaleOpts.type === 'realtime' || scaleOpts.type === 'time') {\n            // Allow Bézier control to be outside the chart\n            chartOpts.elements.line.capBezierPoints = false;\n          }\n        });\n      }\n\n      if (chart.annotation) {\n        AnnotationPlugin.attachChart(chart);\n      } else {\n        AnnotationPlugin.detachChart(chart);\n      }\n\n      if (chart.resetZoom) {\n        ZoomPlugin.attachChart(chart);\n      } else {\n        ZoomPlugin.detachChart(chart);\n      }\n\n      return true;\n    },\n    afterUpdate: function (chart) {\n      var streaming = chart.streaming;\n      var pause = true;\n      updateElements(chart); // if all scales are paused, stop refreshing frames\n\n      helpers.each(chart.scales, function (scale) {\n        if (scale instanceof RealTimeScale) {\n          pause &= StreamingHelper.resolveOption(scale, 'pause');\n        }\n      });\n\n      if (pause) {\n        StreamingHelper.stopFrameRefreshTimer(streaming);\n      } else {\n        StreamingHelper.startFrameRefreshTimer(streaming, function () {\n          drawChart(chart);\n        });\n      }\n    },\n    beforeDatasetDraw: function (chart, args) {\n      var meta = args.meta;\n      var chartArea = chart.chartArea;\n      var clipArea = {\n        left: 0,\n        top: 0,\n        right: chart.width,\n        bottom: chart.height\n      };\n\n      if (meta.xAxisID && meta.controller.getScaleForId(meta.xAxisID) instanceof RealTimeScale) {\n        clipArea.left = chartArea.left;\n        clipArea.right = chartArea.right;\n      }\n\n      if (meta.yAxisID && meta.controller.getScaleForId(meta.yAxisID) instanceof RealTimeScale) {\n        clipArea.top = chartArea.top;\n        clipArea.bottom = chartArea.bottom;\n      }\n\n      canvasHelpers.clipArea(chart.ctx, clipArea);\n      return true;\n    },\n    afterDatasetDraw: function (chart) {\n      canvasHelpers.unclipArea(chart.ctx);\n    },\n    beforeEvent: function (chart, event) {\n      var streaming = chart.streaming;\n\n      if (event.type === 'mousemove') {\n        // Save mousemove event for reuse\n        streaming.lastMouseEvent = event;\n      } else if (event.type === 'mouseout') {\n        // Remove mousemove event\n        delete streaming.lastMouseEvent;\n      }\n\n      return true;\n    },\n    destroy: function (chart) {\n      var streaming = chart.streaming;\n      var canvas = streaming.canvas;\n      var mouseEventListener = streaming.mouseEventListener;\n      StreamingHelper.stopFrameRefreshTimer(streaming);\n      delete chart.update;\n      delete chart.tooltip.update;\n      canvas.removeEventListener('mousedown', mouseEventListener);\n      canvas.removeEventListener('mouseup', mouseEventListener);\n      helpers.each(chart.scales, function (scale) {\n        if (scale instanceof RealTimeScale) {\n          scale.destroy();\n        }\n      });\n    }\n  };\n  Chart__default['default'].helpers.streaming = StreamingHelper;\n  Chart__default['default'].plugins.register(StreamingPlugin);\n  return StreamingPlugin;\n});","map":{"version":3,"sources":["/home/lil-armstrong/Desktop/React-Zenix-v1.0-28-May-2021/package/node_modules/chartjs-plugin-streaming/dist/chartjs-plugin-streaming.js"],"names":["global","factory","exports","module","require","define","amd","globalThis","self","ChartStreaming","Chart","moment","_interopDefaultLegacy","e","Chart__default","moment__default","helpers$3","helpers","cancelAnimFrame","window","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","oCancelAnimationFrame","msCancelAnimationFrame","id","clearTimeout","StreamingHelper","resolveOption","scale","key","realtimeOpts","options","realtime","streamingOpts","chart","plugins","streaming","valueOrDefault","startFrameRefreshTimer","context","func","frameRequestID","frameRefresh","requestAnimFrame","call","stopFrameRefreshTimer","isValid","rawValue","isFinite","scaleValue","value","fallback","getPixelForValue","transitionable","updateBoxAnnotation","element","chartInstance","scales","chartArea","xScaleID","yScaleID","xScale","yScale","_streaming","min","max","reverse","xMin","left","xMax","right","axisId","yMin","top","yMax","bottom","updateLineAnnotation","scaleID","isHorizontal","pixel","initAnnotationPlugin","BoxAnnotation","Annotation","types","box","LineAnnotation","line","configureBoxAnnotation","prototype","configure","configureLineAnnotation","AnnotationPlugin","attachChart","annotationPlugin","getElements","annotation","elements","Object","keys","map","detachChart","helpers$2","zoomNS","Zoom","zoomFunctions","panFunctions","rangeMaxLimiter","zoomPanOptions","newMax","scaleAxes","rangeMax","isNullOrUndef","rangeMinLimiter","newMin","rangeMin","zoomRealTimeScale","zoom","center","zoomOptions","duration","delay","newDuration","maxPercent","limitedDuration","x","y","panRealTimeScale","delta","panOptions","newDelay","getValueForPixel","updateResetZoom","$zoom","_originalOptions","resetZoom","update","resetZoomAndUpdate","each","realtimeOptions","originalOptions","initZoomPlugin","ZoomPlugin","zoomPlugin","helpers$1","canvasHelpers$1","canvas","scaleService","TimeScale","getScaleConstructor","type","constructors","hasOwnProperty","undefined","MAX_INTEGER","Number","MAX_SAFE_INTEGER","INTERVALS","millisecond","common","size","steps","second","minute","hour","day","week","month","quarter","year","UNITS","defaultAdapter","parse","format","valueOf","add","time","amount","unit","startOf","weekday","isoWeekday","toTimestamp","input","adapter","_adapter","parser","getRightValue","round","determineStepSize","capacity","range","interval","milliseconds","i","ilen","factor","Math","ceil","length","determineUnitForAutoTicks","minUnit","indexOf","determineMajorUnit","generate","timeOpts","minor","major","stepSize","unitStepSize","majorTicksEnabled","ticks","enabled","first","last","push","datasetPropertyKeys","refreshData","ttl","pause","onRefresh","Date","now","isNaN","meta","data","start","count","removalRange","datasets","dataset","datasetIndex","getDatasetMeta","xAxisID","yAxisID","_getTimeForIndex","splice","isArray","datalabels","labels","preservation","stopDataRefreshTimer","refreshTimerID","clearInterval","refreshInterval","startDataRefreshTimer","setInterval","newInterval","transition","translate","_start","view","_view","model","_model","item","scroll","width","height","tooltip","annotations","offset","head","_table","defaultConfig","position","distribution","bounds","adapters","displayFormat","displayFormats","autoSkip","source","RealTimeScale","extend","initialize","me","apply","arguments","ticksOpts","minTick","maxTick","majorTicksOpts","majorEnabled","minSize","buildTicks","refresh","timestamps","_timestamps","maxArray","getLabelCapacity","defineProperty","get","set","noop","shift","pos","calculateTickRotation","maxRotation","minRotation","fit","display","paddingLeft","paddingRight","handleMargins","draw","ctx","clipArea","_gridLineItems","_labelItems","unclipArea","destroy","index","isObject","registerScaleType","canvasHelpers","defaults","frameRate","legend","onClick","legendItem","ci","hidden","getAxisMap","axisMap","transitionKeys","updateElements","config","lastActive","tooltipLastActive","lastMouseEvent","legendUpdate","_lastActive","_bufferedRender","_bufferedRequest","animating","animationService","animations","forEach","animation","render","numSteps","currentStep","controller","_active","eventHandler","tooltipUpdate","_chart","_datasetIndex","Tooltip","drawChart","frameDuration","next","lastDrawn","StreamingPlugin","beforeInit","mouseEventListener","event","getRelativePosition","native","addEventListener","afterInit","beforeUpdate","chartOpts","scalesOpts","xAxes","concat","yAxes","scaleOpts","capBezierPoints","afterUpdate","beforeDatasetDraw","args","getScaleForId","afterDatasetDraw","beforeEvent","removeEventListener","register"],"mappings":"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","sourcesContent":["/*!\n * chartjs-plugin-streaming v1.9.0\n * https://nagix.github.io/chartjs-plugin-streaming\n * (c) 2017-2021 Akihiko Kusanagi\n * Released under the MIT license\n */\n(function (global, factory) {\ntypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('chart.js'), require('moment')) :\ntypeof define === 'function' && define.amd ? define(['chart.js', 'moment'], factory) :\n(global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.ChartStreaming = factory(global.Chart, global.moment));\n}(this, (function (Chart, moment) { 'use strict';\n\nfunction _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }\n\nvar Chart__default = /*#__PURE__*/_interopDefaultLegacy(Chart);\nvar moment__default = /*#__PURE__*/_interopDefaultLegacy(moment);\n\nvar helpers$3 = Chart__default['default'].helpers;\n\nvar cancelAnimFrame = (function() {\n\tif (typeof window !== 'undefined') {\n\t\treturn window.cancelAnimationFrame ||\n\t\t\twindow.webkitCancelAnimationFrame ||\n\t\t\twindow.mozCancelAnimationFrame ||\n\t\t\twindow.oCancelAnimationFrame ||\n\t\t\twindow.msCancelAnimationFrame ||\n\t\t\tfunction(id) {\n\t\t\t\treturn window.clearTimeout(id);\n\t\t\t};\n\t}\n}());\n\nvar StreamingHelper = {\n\n\tresolveOption(scale, key) {\n\t\tvar realtimeOpts = scale.options.realtime;\n\t\tvar streamingOpts = scale.chart.options.plugins.streaming;\n\t\treturn helpers$3.valueOrDefault(realtimeOpts[key], streamingOpts[key]);\n\t},\n\n\tstartFrameRefreshTimer: function(context, func) {\n\t\tif (!context.frameRequestID) {\n\t\t\tvar frameRefresh = function() {\n\t\t\t\tfunc();\n\t\t\t\tcontext.frameRequestID = helpers$3.requestAnimFrame.call(window, frameRefresh);\n\t\t\t};\n\t\t\tcontext.frameRequestID = helpers$3.requestAnimFrame.call(window, frameRefresh);\n\t\t}\n\t},\n\n\tstopFrameRefreshTimer: function(context) {\n\t\tvar frameRequestID = context.frameRequestID;\n\n\t\tif (frameRequestID) {\n\t\t\tcancelAnimFrame.call(window, frameRequestID);\n\t\t\tdelete context.frameRequestID;\n\t\t}\n\t}\n\n};\n\nfunction isValid(rawValue) {\n\tif (rawValue === null || typeof rawValue === 'undefined') {\n\t\treturn false;\n\t} else if (typeof rawValue === 'number') {\n\t\treturn isFinite(rawValue);\n\t}\n\treturn !!rawValue;\n}\n\nfunction scaleValue(scale, value, fallback) {\n\treturn isValid(value) ?\n\t\t{value: scale.getPixelForValue(value), transitionable: true} :\n\t\t{value: fallback};\n}\n\nfunction updateBoxAnnotation(element) {\n\tvar chart = element.chartInstance;\n\tvar options = element.options;\n\tvar scales = chart.scales;\n\tvar chartArea = chart.chartArea;\n\tvar xScaleID = options.xScaleID;\n\tvar yScaleID = options.yScaleID;\n\tvar xScale = scales[xScaleID];\n\tvar yScale = scales[yScaleID];\n\tvar streaming = element._streaming = {};\n\tvar min, max, reverse;\n\n\tif (xScale) {\n\t\tmin = scaleValue(xScale, options.xMin, chartArea.left);\n\t\tmax = scaleValue(xScale, options.xMax, chartArea.right);\n\t\treverse = min.value > max.value;\n\n\t\tif (min.transitionable) {\n\t\t\tstreaming[reverse ? 'right' : 'left'] = {axisId: xScaleID};\n\t\t}\n\t\tif (max.transitionable) {\n\t\t\tstreaming[reverse ? 'left' : 'right'] = {axisId: xScaleID};\n\t\t}\n\t}\n\n\tif (yScale) {\n\t\tmin = scaleValue(yScale, options.yMin, chartArea.top);\n\t\tmax = scaleValue(yScale, options.yMax, chartArea.bottom);\n\t\treverse = min.value > max.value;\n\n\t\tif (min.transitionable) {\n\t\t\tstreaming[reverse ? 'bottom' : 'top'] = {axisId: yScaleID};\n\t\t}\n\t\tif (max.transitionable) {\n\t\t\tstreaming[reverse ? 'top' : 'bottom'] = {axisId: yScaleID};\n\t\t}\n\t}\n}\n\nfunction updateLineAnnotation(element) {\n\tvar chart = element.chartInstance;\n\tvar options = element.options;\n\tvar scaleID = options.scaleID;\n\tvar value = options.value;\n\tvar scale = chart.scales[scaleID];\n\tvar streaming = element._streaming = {};\n\n\tif (scale) {\n\t\tvar isHorizontal = scale.isHorizontal();\n\t\tvar pixel = scaleValue(scale, value);\n\n\t\tif (pixel.transitionable) {\n\t\t\tstreaming[isHorizontal ? 'x1' : 'y1'] = {axisId: scaleID};\n\t\t\tstreaming[isHorizontal ? 'x2' : 'y2'] = {axisId: scaleID};\n\t\t\tstreaming[isHorizontal ? 'labelX' : 'labelY'] = {axisId: scaleID};\n\t\t}\n\t}\n}\n\nfunction initAnnotationPlugin() {\n\tvar BoxAnnotation = Chart__default['default'].Annotation.types.box;\n\tvar LineAnnotation = Chart__default['default'].Annotation.types.line;\n\tvar configureBoxAnnotation = BoxAnnotation.prototype.configure;\n\tvar configureLineAnnotation = LineAnnotation.prototype.configure;\n\n\tBoxAnnotation.prototype.configure = function() {\n\t\tupdateBoxAnnotation(this);\n\t\treturn configureBoxAnnotation.call(this);\n\t};\n\n\tLineAnnotation.prototype.configure = function() {\n\t\tupdateLineAnnotation(this);\n\t\treturn configureLineAnnotation.call(this);\n\t};\n}\n\nvar AnnotationPlugin = {\n\tattachChart(chart) {\n\t\tvar streaming = chart.streaming;\n\n\t\tif (!streaming.annotationPlugin) {\n\t\t\tinitAnnotationPlugin();\n\t\t\tstreaming.annotationPlugin = true;\n\t\t}\n\t},\n\n\tgetElements(chart) {\n\t\tvar annotation = chart.annotation;\n\n\t\tif (annotation) {\n\t\t\tvar elements = annotation.elements;\n\t\t\treturn Object.keys(elements).map(function(id) {\n\t\t\t\treturn elements[id];\n\t\t\t});\n\t\t}\n\t\treturn [];\n\t},\n\n\tdetachChart(chart) {\n\t\tdelete chart.streaming.annotationPlugin;\n\t}\n};\n\nvar helpers$2 = Chart__default['default'].helpers;\n\n// Ported from chartjs-plugin-zoom 0.7.0 3c187b7\nvar zoomNS = Chart__default['default'].Zoom = Chart__default['default'].Zoom || {};\n\n// Ported from chartjs-plugin-zoom 0.7.0 3c187b7\nzoomNS.zoomFunctions = zoomNS.zoomFunctions || {};\nzoomNS.panFunctions = zoomNS.panFunctions || {};\n\n// Ported from chartjs-plugin-zoom 0.7.0 3c187b7\nfunction rangeMaxLimiter(zoomPanOptions, newMax) {\n\tif (zoomPanOptions.scaleAxes && zoomPanOptions.rangeMax &&\n\t\t\t!helpers$2.isNullOrUndef(zoomPanOptions.rangeMax[zoomPanOptions.scaleAxes])) {\n\t\tvar rangeMax = zoomPanOptions.rangeMax[zoomPanOptions.scaleAxes];\n\t\tif (newMax > rangeMax) {\n\t\t\tnewMax = rangeMax;\n\t\t}\n\t}\n\treturn newMax;\n}\n\n// Ported from chartjs-plugin-zoom 0.7.0 3c187b7\nfunction rangeMinLimiter(zoomPanOptions, newMin) {\n\tif (zoomPanOptions.scaleAxes && zoomPanOptions.rangeMin &&\n\t\t\t!helpers$2.isNullOrUndef(zoomPanOptions.rangeMin[zoomPanOptions.scaleAxes])) {\n\t\tvar rangeMin = zoomPanOptions.rangeMin[zoomPanOptions.scaleAxes];\n\t\tif (newMin < rangeMin) {\n\t\t\tnewMin = rangeMin;\n\t\t}\n\t}\n\treturn newMin;\n}\n\nfunction zoomRealTimeScale(scale, zoom, center, zoomOptions) {\n\tvar realtimeOpts = scale.options.realtime;\n\tvar duration = StreamingHelper.resolveOption(scale, 'duration');\n\tvar delay = StreamingHelper.resolveOption(scale, 'delay');\n\tvar newDuration = duration * (2 - zoom);\n\tvar maxPercent, limitedDuration;\n\n\tif (scale.isHorizontal()) {\n\t\tmaxPercent = (scale.right - center.x) / (scale.right - scale.left);\n\t} else {\n\t\tmaxPercent = (scale.bottom - center.y) / (scale.bottom - scale.top);\n\t}\n\tif (zoom < 1) {\n\t\tlimitedDuration = rangeMaxLimiter(zoomOptions, newDuration);\n\t} else {\n\t\tlimitedDuration = rangeMinLimiter(zoomOptions, newDuration);\n\t}\n\trealtimeOpts.duration = limitedDuration;\n\trealtimeOpts.delay = delay + maxPercent * (duration - limitedDuration);\n}\n\nfunction panRealTimeScale(scale, delta, panOptions) {\n\tvar realtimeOpts = scale.options.realtime;\n\tvar delay = StreamingHelper.resolveOption(scale, 'delay');\n\tvar newDelay = delay + (scale.getValueForPixel(delta) - scale.getValueForPixel(0));\n\n\tif (delta > 0) {\n\t\trealtimeOpts.delay = rangeMaxLimiter(panOptions, newDelay);\n\t} else {\n\t\trealtimeOpts.delay = rangeMinLimiter(panOptions, newDelay);\n\t}\n}\n\nfunction updateResetZoom(chart) {\n\t// For chartjs-plugin-zoom 0.6.6 backward compatibility\n\tvar zoom = chart.$zoom || {_originalOptions: {}};\n\n\tvar resetZoom = chart.resetZoom;\n\tvar update = chart.update;\n\tvar resetZoomAndUpdate = function() {\n\t\thelpers$2.each(chart.scales, function(scale) {\n\t\t\tvar realtimeOptions = scale.options.realtime;\n\t\t\tvar originalOptions = zoom._originalOptions[scale.id] || scale.originalOptions;\n\n\t\t\tif (realtimeOptions) {\n\t\t\t\tif (originalOptions) {\n\t\t\t\t\trealtimeOptions.duration = originalOptions.realtime.duration;\n\t\t\t\t\trealtimeOptions.delay = originalOptions.realtime.delay;\n\t\t\t\t} else {\n\t\t\t\t\tdelete realtimeOptions.duration;\n\t\t\t\t\tdelete realtimeOptions.delay;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tupdate.call(chart, {\n\t\t\tduration: 0\n\t\t});\n\t};\n\n\tchart.resetZoom = function() {\n\t\tchart.update = resetZoomAndUpdate;\n\t\tresetZoom();\n\t\tchart.update = update;\n\t};\n}\n\nfunction initZoomPlugin() {\n\tzoomNS.zoomFunctions.realtime = zoomRealTimeScale;\n\tzoomNS.panFunctions.realtime = panRealTimeScale;\n}\n\nvar ZoomPlugin = {\n\tattachChart(chart) {\n\t\tvar streaming = chart.streaming;\n\n\t\tif (!streaming.zoomPlugin) {\n\t\t\tinitZoomPlugin();\n\t\t\tstreaming.resetZoom = chart.resetZoom;\n\t\t\tupdateResetZoom(chart);\n\t\t\tstreaming.zoomPlugin = true;\n\t\t}\n\t},\n\n\tdetachChart(chart) {\n\t\tvar streaming = chart.streaming;\n\n\t\tif (streaming.zoomPlugin) {\n\t\t\tchart.resetZoom = streaming.resetZoom;\n\t\t\tdelete streaming.resetZoom;\n\t\t\tdelete streaming.zoomPlugin;\n\t\t}\n\t}\n};\n\nvar helpers$1 = Chart__default['default'].helpers;\nvar canvasHelpers$1 = helpers$1.canvas;\nvar scaleService = Chart__default['default'].scaleService;\nvar TimeScale = scaleService.getScaleConstructor('time');\n\nscaleService.getScaleConstructor = function(type) {\n\t// For backwards compatibility\n\tif (type === 'time') {\n\t\ttype = 'realtime';\n\t}\n\treturn this.constructors.hasOwnProperty(type) ? this.constructors[type] : undefined;\n};\n\n// Ported from Chart.js 2.8.0 35273ee.\nvar MAX_INTEGER = Number.MAX_SAFE_INTEGER || 9007199254740991;\n\n// Ported from Chart.js 2.8.0 35273ee.\nvar INTERVALS = {\n\tmillisecond: {\n\t\tcommon: true,\n\t\tsize: 1,\n\t\tsteps: [1, 2, 5, 10, 20, 50, 100, 250, 500]\n\t},\n\tsecond: {\n\t\tcommon: true,\n\t\tsize: 1000,\n\t\tsteps: [1, 2, 5, 10, 15, 30]\n\t},\n\tminute: {\n\t\tcommon: true,\n\t\tsize: 60000,\n\t\tsteps: [1, 2, 5, 10, 15, 30]\n\t},\n\thour: {\n\t\tcommon: true,\n\t\tsize: 3600000,\n\t\tsteps: [1, 2, 3, 6, 12]\n\t},\n\tday: {\n\t\tcommon: true,\n\t\tsize: 86400000,\n\t\tsteps: [1, 2, 5]\n\t},\n\tweek: {\n\t\tcommon: false,\n\t\tsize: 604800000,\n\t\tsteps: [1, 2, 3, 4]\n\t},\n\tmonth: {\n\t\tcommon: true,\n\t\tsize: 2.628e9,\n\t\tsteps: [1, 2, 3]\n\t},\n\tquarter: {\n\t\tcommon: false,\n\t\tsize: 7.884e9,\n\t\tsteps: [1, 2, 3, 4]\n\t},\n\tyear: {\n\t\tcommon: true,\n\t\tsize: 3.154e10\n\t}\n};\n\n// Ported from Chart.js 2.8.0 35273ee.\nvar UNITS = Object.keys(INTERVALS);\n\n// For Chart.js 2.7.x backward compatibility\nvar defaultAdapter = {\n\t// Ported from Chart.js 2.9.4 707e52a.\n\tparse: function(value, format) {\n\t\tif (typeof value === 'string' && typeof format === 'string') {\n\t\t\tvalue = moment__default['default'](value, format);\n\t\t} else if (!(value instanceof moment__default['default'])) {\n\t\t\tvalue = moment__default['default'](value);\n\t\t}\n\t\treturn value.isValid() ? value.valueOf() : null;\n\t},\n\n\t// Ported from Chart.js 2.9.4 707e52a.\n\tadd: function(time, amount, unit) {\n\t\treturn moment__default['default'](time).add(amount, unit).valueOf();\n\t},\n\n\t// Ported from Chart.js 2.9.4 707e52a.\n\tstartOf: function(time, unit, weekday) {\n\t\ttime = moment__default['default'](time);\n\t\tif (unit === 'isoWeek') {\n\t\t\treturn time.isoWeekday(weekday).valueOf();\n\t\t}\n\t\treturn time.startOf(unit).valueOf();\n\t}\n};\n\n// Ported from Chart.js 2.8.0 35273ee. Modified for Chart.js 2.7.x backward compatibility.\nfunction toTimestamp(scale, input) {\n\tvar adapter = scale._adapter || defaultAdapter;\n\tvar options = scale.options.time;\n\tvar parser = options.parser;\n\tvar format = parser || options.format;\n\tvar value = input;\n\n\tif (typeof parser === 'function') {\n\t\tvalue = parser(value);\n\t}\n\n\t// Only parse if its not a timestamp already\n\tif (typeof value !== 'number' && !(value instanceof Number) || !isFinite(value)) {\n\t\tvalue = typeof format === 'string'\n\t\t\t? adapter.parse(value, format)\n\t\t\t: adapter.parse(value);\n\t}\n\n\tif (value !== null) {\n\t\treturn +value;\n\t}\n\n\t// Labels are in an incompatible format and no `parser` has been provided.\n\t// The user might still use the deprecated `format` option for parsing.\n\tif (!parser && typeof format === 'function') {\n\t\tvalue = format(input);\n\n\t\t// `format` could return something else than a timestamp, if so, parse it\n\t\tif (typeof value !== 'number' && !(value instanceof Number) || !isFinite(value)) {\n\t\t\tvalue = adapter.parse(value);\n\t\t}\n\t}\n\n\treturn value;\n}\n\n// Ported from Chart.js 2.8.0 35273ee. Modified for Chart.js 2.7.x backward compatibility.\nfunction parse(scale, input) {\n\tif (helpers$1.isNullOrUndef(input)) {\n\t\treturn null;\n\t}\n\n\tvar options = scale.options.time;\n\tvar value = toTimestamp(scale, scale.getRightValue(input));\n\tif (value === null) {\n\t\treturn value;\n\t}\n\n\tif (options.round) {\n\t\tvalue = +(scale._adapter || defaultAdapter).startOf(value, options.round);\n\t}\n\n\treturn value;\n}\n\n// Ported from Chart.js 2.8.0 35273ee.\nfunction determineStepSize(min, max, unit, capacity) {\n\tvar range = max - min;\n\tvar interval = INTERVALS[unit];\n\tvar milliseconds = interval.size;\n\tvar steps = interval.steps;\n\tvar i, ilen, factor;\n\n\tif (!steps) {\n\t\treturn Math.ceil(range / (capacity * milliseconds));\n\t}\n\n\tfor (i = 0, ilen = steps.length; i < ilen; ++i) {\n\t\tfactor = steps[i];\n\t\tif (Math.ceil(range / (milliseconds * factor)) <= capacity) {\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn factor;\n}\n\n// Ported from Chart.js 2.8.0 35273ee.\nfunction determineUnitForAutoTicks(minUnit, min, max, capacity) {\n\tvar ilen = UNITS.length;\n\tvar i, interval, factor;\n\n\tfor (i = UNITS.indexOf(minUnit); i < ilen - 1; ++i) {\n\t\tinterval = INTERVALS[UNITS[i]];\n\t\tfactor = interval.steps ? interval.steps[interval.steps.length - 1] : MAX_INTEGER;\n\n\t\tif (interval.common && Math.ceil((max - min) / (factor * interval.size)) <= capacity) {\n\t\t\treturn UNITS[i];\n\t\t}\n\t}\n\n\treturn UNITS[ilen - 1];\n}\n\n// Ported from Chart.js 2.8.0 35273ee.\nfunction determineMajorUnit(unit) {\n\tfor (var i = UNITS.indexOf(unit) + 1, ilen = UNITS.length; i < ilen; ++i) {\n\t\tif (INTERVALS[UNITS[i]].common) {\n\t\t\treturn UNITS[i];\n\t\t}\n\t}\n}\n\n// Ported from Chart.js 2.8.0 35273ee. Modified for Chart.js 2.7.x backward compatibility.\nfunction generate(scale, min, max, capacity) {\n\tvar adapter = scale._adapter || defaultAdapter;\n\tvar options = scale.options;\n\tvar timeOpts = options.time;\n\tvar minor = timeOpts.unit || determineUnitForAutoTicks(timeOpts.minUnit, min, max, capacity);\n\tvar major = determineMajorUnit(minor);\n\tvar stepSize = helpers$1.valueOrDefault(timeOpts.stepSize, timeOpts.unitStepSize);\n\tvar weekday = minor === 'week' ? timeOpts.isoWeekday : false;\n\tvar majorTicksEnabled = options.ticks.major.enabled;\n\tvar interval = INTERVALS[minor];\n\tvar first = min;\n\tvar last = max;\n\tvar ticks = [];\n\tvar time;\n\n\tif (!stepSize) {\n\t\tstepSize = determineStepSize(min, max, minor, capacity);\n\t}\n\n\t// For 'week' unit, handle the first day of week option\n\tif (weekday) {\n\t\tfirst = +adapter.startOf(first, 'isoWeek', weekday);\n\t\tlast = +adapter.startOf(last, 'isoWeek', weekday);\n\t}\n\n\t// Align first/last ticks on unit\n\tfirst = +adapter.startOf(first, weekday ? 'day' : minor);\n\tlast = +adapter.startOf(last, weekday ? 'day' : minor);\n\n\t// Make sure that the last tick include max\n\tif (last < max) {\n\t\tlast = +adapter.add(last, 1, minor);\n\t}\n\n\ttime = first;\n\n\tif (majorTicksEnabled && major && !weekday && !timeOpts.round) {\n\t\t// Align the first tick on the previous `minor` unit aligned on the `major` unit:\n\t\t// we first aligned time on the previous `major` unit then add the number of full\n\t\t// stepSize there is between first and the previous major time.\n\t\ttime = +adapter.startOf(time, major);\n\t\ttime = +adapter.add(time, ~~((first - time) / (interval.size * stepSize)) * stepSize, minor);\n\t}\n\n\tfor (; time < last; time = +adapter.add(time, stepSize, minor)) {\n\t\tticks.push(+time);\n\t}\n\n\tticks.push(+time);\n\n\treturn ticks;\n}\n\nvar datasetPropertyKeys = [\n\t'pointBackgroundColor',\n\t'pointBorderColor',\n\t'pointBorderWidth',\n\t'pointRadius',\n\t'pointRotation',\n\t'pointStyle',\n\t'pointHitRadius',\n\t'pointHoverBackgroundColor',\n\t'pointHoverBorderColor',\n\t'pointHoverBorderWidth',\n\t'pointHoverRadius',\n\t'backgroundColor',\n\t'borderColor',\n\t'borderSkipped',\n\t'borderWidth',\n\t'hoverBackgroundColor',\n\t'hoverBorderColor',\n\t'hoverBorderWidth',\n\t'hoverRadius',\n\t'hitRadius',\n\t'radius',\n\t'rotation'\n];\n\nfunction refreshData(scale) {\n\tvar chart = scale.chart;\n\tvar id = scale.id;\n\tvar duration = StreamingHelper.resolveOption(scale, 'duration');\n\tvar delay = StreamingHelper.resolveOption(scale, 'delay');\n\tvar ttl = StreamingHelper.resolveOption(scale, 'ttl');\n\tvar pause = StreamingHelper.resolveOption(scale, 'pause');\n\tvar onRefresh = StreamingHelper.resolveOption(scale, 'onRefresh');\n\tvar max = scale.max;\n\tvar min = Date.now() - (isNaN(ttl) ? duration + delay : ttl);\n\tvar meta, data, length, i, start, count, removalRange;\n\n\tif (onRefresh) {\n\t\tonRefresh(chart);\n\t}\n\n\t// Remove old data\n\thelpers$1.each(chart.data.datasets, function(dataset, datasetIndex) {\n\t\tmeta = chart.getDatasetMeta(datasetIndex);\n\t\tif (id === meta.xAxisID || id === meta.yAxisID) {\n\t\t\tdata = dataset.data;\n\t\t\tlength = data.length;\n\n\t\t\tif (pause) {\n\t\t\t\t// If the scale is paused, preserve the visible data points\n\t\t\t\tfor (i = 0; i < length; ++i) {\n\t\t\t\t\tif (!(scale._getTimeForIndex(i, datasetIndex) < max)) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tstart = i + 2;\n\t\t\t} else {\n\t\t\t\tstart = 0;\n\t\t\t}\n\n\t\t\tfor (i = start; i < length; ++i) {\n\t\t\t\tif (!(scale._getTimeForIndex(i, datasetIndex) <= min)) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tcount = i - start;\n\t\t\tif (isNaN(ttl)) {\n\t\t\t\t// Keep the last two data points outside the range not to affect the existing bezier curve\n\t\t\t\tcount = Math.max(count - 2, 0);\n\t\t\t}\n\n\t\t\tdata.splice(start, count);\n\t\t\thelpers$1.each(datasetPropertyKeys, function(key) {\n\t\t\t\tif (helpers$1.isArray(dataset[key])) {\n\t\t\t\t\tdataset[key].splice(start, count);\n\t\t\t\t}\n\t\t\t});\n\t\t\thelpers$1.each(dataset.datalabels, function(value) {\n\t\t\t\tif (helpers$1.isArray(value)) {\n\t\t\t\t\tvalue.splice(start, count);\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (typeof data[0] !== 'object') {\n\t\t\t\tremovalRange = {\n\t\t\t\t\tstart: start,\n\t\t\t\t\tcount: count\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t});\n\tif (removalRange) {\n\t\tchart.data.labels.splice(removalRange.start, removalRange.count);\n\t}\n\n\tchart.update({\n\t\tpreservation: true\n\t});\n}\n\nfunction stopDataRefreshTimer(scale) {\n\tvar realtime = scale.realtime;\n\tvar refreshTimerID = realtime.refreshTimerID;\n\n\tif (refreshTimerID) {\n\t\tclearInterval(refreshTimerID);\n\t\tdelete realtime.refreshTimerID;\n\t\tdelete realtime.refreshInterval;\n\t}\n}\n\nfunction startDataRefreshTimer(scale) {\n\tvar realtime = scale.realtime;\n\tvar interval = StreamingHelper.resolveOption(scale, 'refresh');\n\n\trealtime.refreshTimerID = setInterval(function() {\n\t\tvar newInterval = StreamingHelper.resolveOption(scale, 'refresh');\n\n\t\trefreshData(scale);\n\t\tif (realtime.refreshInterval !== newInterval && !isNaN(newInterval)) {\n\t\t\tstopDataRefreshTimer(scale);\n\t\t\tstartDataRefreshTimer(scale);\n\t\t}\n\t}, interval);\n\trealtime.refreshInterval = interval;\n}\n\nfunction transition(element, id, translate) {\n\tvar start = element._start || {};\n\tvar view = element._view || {};\n\tvar model = element._model || {};\n\n\thelpers$1.each(element._streaming, (item, key) => {\n\t\tif (item.axisId === id) {\n\t\t\tif (start.hasOwnProperty(key)) {\n\t\t\t\tstart[key] -= translate;\n\t\t\t}\n\t\t\tif (view.hasOwnProperty(key) && view !== start) {\n\t\t\t\tview[key] -= translate;\n\t\t\t}\n\t\t\tif (model.hasOwnProperty(key) && model !== view) {\n\t\t\t\tmodel[key] -= translate;\n\t\t\t}\n\t\t}\n\t});\n}\n\nfunction scroll(scale) {\n\tvar chart = scale.chart;\n\tvar realtime = scale.realtime;\n\tvar id = scale.id;\n\tvar duration = StreamingHelper.resolveOption(scale, 'duration');\n\tvar delay = StreamingHelper.resolveOption(scale, 'delay');\n\tvar isHorizontal = scale.isHorizontal();\n\tvar length = isHorizontal ? scale.width : scale.height;\n\tvar now = Date.now();\n\n\t// For Chart.js 2.8.x backward compatibility\n\tvar reverse = scale.options.ticks.reverse || !(isHorizontal || '_reversePixels' in scale);\n\n\tvar tooltip = chart.tooltip;\n\tvar annotations = AnnotationPlugin.getElements(chart);\n\tvar offset = length * (now - realtime.head) / duration;\n\tvar i, ilen;\n\n\tif (isHorizontal === reverse) {\n\t\toffset = -offset;\n\t}\n\n\t// Shift all the elements leftward or downward\n\thelpers$1.each(chart.data.datasets, function(dataset, datasetIndex) {\n\t\tvar meta = chart.getDatasetMeta(datasetIndex);\n\t\tvar elements = meta.data || [];\n\t\tvar element = meta.dataset;\n\n\t\tfor (i = 0, ilen = elements.length; i < ilen; ++i) {\n\t\t\ttransition(elements[i], id, offset);\n\t\t}\n\t\tif (element) {\n\t\t\ttransition(element, id, offset);\n\t\t}\n\t});\n\n\t// Shift all the annotation elements leftward or downward\n\tfor (i = 0, ilen = annotations.length; i < ilen; ++i) {\n\t\ttransition(annotations[i], id, offset);\n\t}\n\n\t// Shift tooltip leftward or downward\n\ttransition(tooltip, id, offset);\n\n\tscale.max = scale._table[1].time = now - delay;\n\tscale.min = scale._table[0].time = scale.max - duration;\n\n\trealtime.head = now;\n}\n\nvar defaultConfig = {\n\tposition: 'bottom',\n\tdistribution: 'linear',\n\tbounds: 'data',\n\tadapters: {},\n\ttime: {\n\t\tparser: false, // false == a pattern string from http://momentjs.com/docs/#/parsing/string-format/ or a custom callback that converts its argument to a moment\n\t\tunit: false, // false == automatic or override with week, month, year, etc.\n\t\tround: false, // none, or override with week, month, year, etc.\n\t\tdisplayFormat: false, // DEPRECATED\n\t\tisoWeekday: false, // override week start day - see http://momentjs.com/docs/#/get-set/iso-weekday/\n\t\tminUnit: 'millisecond',\n\n\t\t// defaults to unit's corresponding unitFormat below or override using pattern string from http://momentjs.com/docs/#/displaying/format/\n\t\tdisplayFormats: {\n\t\t\tmillisecond: 'h:mm:ss.SSS a',\n\t\t\tsecond: 'h:mm:ss a',\n\t\t\tminute: 'h:mm a',\n\t\t\thour: 'hA',\n\t\t\tday: 'MMM D',\n\t\t\tweek: 'll',\n\t\t\tmonth: 'MMM YYYY',\n\t\t\tquarter: '[Q]Q - YYYY',\n\t\t\tyear: 'YYYY'\n\t\t},\n\t},\n\trealtime: {},\n\tticks: {\n\t\tautoSkip: false,\n\t\tsource: 'auto',\n\t\tmajor: {\n\t\t\tenabled: true\n\t\t}\n\t}\n};\n\nvar RealTimeScale = TimeScale.extend({\n\tinitialize: function() {\n\t\tvar me = this;\n\n\t\tTimeScale.prototype.initialize.apply(me, arguments);\n\n\t\t// For backwards compatibility\n\t\tif (me.options.type === 'time' && !me.chart.options.plugins.streaming) {\n\t\t\treturn;\n\t\t}\n\n\t\tme.realtime = me.realtime || {};\n\n\t\tstartDataRefreshTimer(me);\n\t},\n\n\tupdate: function() {\n\t\tvar me = this;\n\t\tvar realtime = me.realtime;\n\t\tvar options = me.options;\n\t\tvar bounds = options.bounds;\n\t\tvar distribution = options.distribution;\n\t\tvar offset = options.offset;\n\t\tvar ticksOpts = options.ticks;\n\t\tvar autoSkip = ticksOpts.autoSkip;\n\t\tvar source = ticksOpts.source;\n\t\tvar minTick = ticksOpts.min;\n\t\tvar maxTick = ticksOpts.max;\n\t\tvar majorTicksOpts = ticksOpts.major;\n\t\tvar majorEnabled = majorTicksOpts.enabled;\n\t\tvar minSize;\n\n\t\t// For backwards compatibility\n\t\tif (options.type === 'time' && !me.chart.options.plugins.streaming) {\n\t\t\treturn TimeScale.prototype.update.apply(me, arguments);\n\t\t}\n\n\t\tif (StreamingHelper.resolveOption(me, 'pause')) {\n\t\t\tStreamingHelper.stopFrameRefreshTimer(realtime);\n\t\t} else {\n\t\t\tStreamingHelper.startFrameRefreshTimer(realtime, function() {\n\t\t\t\tscroll(me);\n\t\t\t});\n\t\t\trealtime.head = Date.now();\n\t\t}\n\n\t\toptions.bounds = undefined;\n\t\toptions.distribution = 'linear';\n\t\toptions.offset = false;\n\t\tticksOpts.autoSkip = false;\n\t\tticksOpts.source = source === 'auto' ? '' : source;\n\t\tticksOpts.min = -1e15;\n\t\tticksOpts.max = 1e15;\n\t\tmajorTicksOpts.enabled = true;\n\n\t\tminSize = TimeScale.prototype.update.apply(me, arguments);\n\n\t\toptions.bounds = bounds;\n\t\toptions.distribution = distribution;\n\t\toptions.offset = offset;\n\t\tticksOpts.autoSkip = autoSkip;\n\t\tticksOpts.source = source;\n\t\tticksOpts.min = minTick;\n\t\tticksOpts.max = maxTick;\n\t\tmajorTicksOpts.enabled = majorEnabled;\n\n\t\treturn minSize;\n\t},\n\n\tbuildTicks: function() {\n\t\tvar me = this;\n\t\tvar options = me.options;\n\n\t\t// For backwards compatibility\n\t\tif (options.type === 'time' && !me.chart.options.plugins.streaming) {\n\t\t\treturn TimeScale.prototype.buildTicks.apply(me, arguments);\n\t\t}\n\n\t\tvar duration = StreamingHelper.resolveOption(me, 'duration');\n\t\tvar delay = StreamingHelper.resolveOption(me, 'delay');\n\t\tvar refresh = StreamingHelper.resolveOption(me, 'refresh');\n\t\tvar ticksOpts = options.ticks;\n\t\tvar source = ticksOpts.source;\n\t\tvar timestamps = me._timestamps.data;\n\t\tvar max = me.realtime.head - delay;\n\t\tvar min = max - duration;\n\t\tvar maxArray = [max + refresh, max];\n\t\tvar ticks;\n\n\t\tif (source === '') {\n\t\t\tticksOpts.source = 'data';\n\t\t\tme._timestamps.data = generate(me, min, max + refresh, me.getLabelCapacity(min));\n\t\t}\n\n\t\tObject.defineProperty(me, 'min', {\n\t\t\tget: function() {\n\t\t\t\treturn min;\n\t\t\t},\n\t\t\tset: helpers$1.noop\n\t\t});\n\t\tObject.defineProperty(me, 'max', {\n\t\t\tget: function() {\n\t\t\t\treturn maxArray.shift();\n\t\t\t},\n\t\t\tset: helpers$1.noop\n\t\t});\n\n\t\tticks = TimeScale.prototype.buildTicks.apply(me, arguments);\n\n\t\tdelete me.min;\n\t\tdelete me.max;\n\t\tme.min = min;\n\t\tme.max = max;\n\n\t\tif (source === '') {\n\t\t\tticksOpts.source = source;\n\t\t\tme._timestamps.data = timestamps;\n\t\t}\n\n\t\tme._table = [{time: min, pos: 0}, {time: max, pos: 1}];\n\n\t\treturn ticks;\n\t},\n\n\tcalculateTickRotation: function() {\n\t\tvar me = this;\n\t\tvar options = me.options;\n\t\tvar ticksOpts = options.ticks;\n\t\tvar maxRotation = ticksOpts.maxRotation;\n\n\t\t// For backwards compatibility\n\t\tif (options.type === 'time' && !me.chart.options.plugins.streaming) {\n\t\t\tTimeScale.prototype.calculateTickRotation.apply(me, arguments);\n\t\t\treturn;\n\t\t}\n\n\t\tticksOpts.maxRotation = ticksOpts.minRotation || 0;\n\t\tTimeScale.prototype.calculateTickRotation.apply(me, arguments);\n\t\tticksOpts.maxRotation = maxRotation;\n\t},\n\n\tfit: function() {\n\t\tvar me = this;\n\t\tvar options = me.options;\n\n\t\tTimeScale.prototype.fit.apply(me, arguments);\n\n\t\t// For backwards compatibility\n\t\tif (options.type === 'time' && !me.chart.options.plugins.streaming) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (options.ticks.display && options.display && me.isHorizontal()) {\n\t\t\tme.paddingLeft = 3;\n\t\t\tme.paddingRight = 3;\n\t\t\tme.handleMargins();\n\t\t}\n\t},\n\n\tdraw: function(chartArea) {\n\t\tvar me = this;\n\t\tvar chart = me.chart;\n\n\t\t// For backwards compatibility\n\t\tif (me.options.type === 'time' && !chart.options.plugins.streaming) {\n\t\t\tTimeScale.prototype.draw.apply(me, arguments);\n\t\t\treturn;\n\t\t}\n\n\t\tvar context = me.ctx;\n\t\tvar\tclipArea = me.isHorizontal() ?\n\t\t\t{\n\t\t\t\tleft: chartArea.left,\n\t\t\t\ttop: 0,\n\t\t\t\tright: chartArea.right,\n\t\t\t\tbottom: chart.height\n\t\t\t} : {\n\t\t\t\tleft: 0,\n\t\t\t\ttop: chartArea.top,\n\t\t\t\tright: chart.width,\n\t\t\t\tbottom: chartArea.bottom\n\t\t\t};\n\n\t\tme._gridLineItems = null;\n\t\tme._labelItems = null;\n\n\t\t// Clip and draw the scale\n\t\tcanvasHelpers$1.clipArea(context, clipArea);\n\t\tTimeScale.prototype.draw.apply(me, arguments);\n\t\tcanvasHelpers$1.unclipArea(context);\n\t},\n\n\tdestroy: function() {\n\t\tvar me = this;\n\n\t\t// For backwards compatibility\n\t\tif (me.options.type === 'time' && !me.chart.options.plugins.streaming) {\n\t\t\treturn;\n\t\t}\n\n\t\tStreamingHelper.stopFrameRefreshTimer(me.realtime);\n\t\tstopDataRefreshTimer(me);\n\t},\n\n\t/*\n\t * @private\n\t */\n\t_getTimeForIndex: function(index, datasetIndex) {\n\t\tvar me = this;\n\t\tvar timestamps = me._timestamps;\n\t\tvar time = timestamps.datasets[datasetIndex][index];\n\t\tvar value;\n\n\t\tif (helpers$1.isNullOrUndef(time)) {\n\t\t\tvalue = me.chart.data.datasets[datasetIndex].data[index];\n\t\t\tif (helpers$1.isObject(value)) {\n\t\t\t\ttime = parse(me, value);\n\t\t\t} else {\n\t\t\t\ttime = parse(me, timestamps.labels[index]);\n\t\t\t}\n\t\t}\n\n\t\treturn time;\n\t}\n});\n\nscaleService.registerScaleType('realtime', RealTimeScale, defaultConfig);\n\nvar helpers = Chart__default['default'].helpers;\nvar canvasHelpers = helpers.canvas;\n\nChart__default['default'].defaults.global.plugins.streaming = {\n\tduration: 10000,\n\tdelay: 0,\n\tframeRate: 30,\n\trefresh: 1000,\n\tonRefresh: null,\n\tpause: false,\n\tttl: undefined\n};\n\n// Ported from Chart.js 2.9.4 d6a5ea0. Modified for realtime scale.\nChart__default['default'].defaults.global.legend.onClick = function(e, legendItem) {\n\tvar index = legendItem.datasetIndex;\n\tvar ci = this.chart;\n\tvar meta = ci.getDatasetMeta(index);\n\n\tmeta.hidden = meta.hidden === null ? !ci.data.datasets[index].hidden : null;\n\tci.update({duration: 0});\n};\n\nfunction getAxisMap(element, keys, meta) {\n\tvar axisMap = {};\n\n\thelpers.each(keys.x, function(key) {\n\t\taxisMap[key] = {axisId: meta.xAxisID};\n\t});\n\thelpers.each(keys.y, function(key) {\n\t\taxisMap[key] = {axisId: meta.yAxisID};\n\t});\n\treturn axisMap;\n}\n\nvar transitionKeys = {\n\tx: ['x', 'controlPointPreviousX', 'controlPointNextX', 'caretX'],\n\ty: ['y', 'controlPointPreviousY', 'controlPointNextY', 'caretY']\n};\n\nfunction updateElements(chart) {\n\thelpers.each(chart.data.datasets, function(dataset, datasetIndex) {\n\t\tvar meta = chart.getDatasetMeta(datasetIndex);\n\t\tvar elements = meta.data || [];\n\t\tvar element = meta.dataset;\n\t\tvar i, ilen;\n\n\t\tfor (i = 0, ilen = elements.length; i < ilen; ++i) {\n\t\t\telements[i]._streaming = getAxisMap(elements[i], transitionKeys, meta);\n\t\t}\n\t\tif (element) {\n\t\t\telement._streaming = getAxisMap(element, transitionKeys, meta);\n\t\t}\n\t});\n}\n\n/**\n * Update the chart keeping the current animation but suppressing a new one\n * @param {object} config - animation options\n */\nfunction update(config) {\n\tvar me = this;\n\tvar preservation = config && config.preservation;\n\tvar tooltip, lastActive, tooltipLastActive, lastMouseEvent, legend, legendUpdate;\n\n\tif (preservation) {\n\t\ttooltip = me.tooltip;\n\t\tlastActive = me.lastActive;\n\t\ttooltipLastActive = tooltip._lastActive;\n\t\tme._bufferedRender = true;\n\t\tlegend = me.legend;\n\n\t\t// Skip legend update\n\t\tif (legend) {\n\t\t\tlegendUpdate = legend.update;\n\t\t\tlegend.update = helpers.noop;\n\t\t}\n\t}\n\n\tChart__default['default'].prototype.update.apply(me, arguments);\n\n\tif (preservation) {\n\t\tme._bufferedRender = false;\n\t\tme._bufferedRequest = null;\n\t\tme.lastActive = lastActive;\n\t\ttooltip._lastActive = tooltipLastActive;\n\n\t\tif (legend) {\n\t\t\tlegend.update = legendUpdate;\n\t\t}\n\n\t\tif (me.animating) {\n\t\t\t// If the chart is animating, keep it until the duration is over\n\t\t\tChart__default['default'].animationService.animations.forEach(function(animation) {\n\t\t\t\tif (animation.chart === me) {\n\t\t\t\t\tme.render({\n\t\t\t\t\t\tduration: (animation.numSteps - animation.currentStep) * 16.66\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\t// If the chart is not animating, make sure that all elements are at the final positions\n\t\t\tme.data.datasets.forEach(function(dataset, datasetIndex) {\n\t\t\t\tme.getDatasetMeta(datasetIndex).controller.transition(1);\n\t\t\t});\n\t\t}\n\n\t\tif (tooltip._active) {\n\t\t\ttooltip.update(true);\n\t\t}\n\n\t\tlastMouseEvent = me.streaming.lastMouseEvent;\n\t\tif (lastMouseEvent) {\n\t\t\tme.eventHandler(lastMouseEvent);\n\t\t}\n\t}\n}\n\nfunction tooltipUpdate() {\n\tvar me = this;\n\tvar element = me._active && me._active[0];\n\tvar meta;\n\n\tif (element) {\n\t\tmeta = me._chart.getDatasetMeta(element._datasetIndex);\n\t\tme._streaming = getAxisMap(me, transitionKeys, meta);\n\t} else {\n\t\tme._streaming = {};\n\t}\n\n\treturn Chart__default['default'].Tooltip.prototype.update.apply(me, arguments);\n}\n\n// Draw chart at frameRate\nfunction drawChart(chart) {\n\tvar streaming = chart.streaming;\n\tvar frameRate = chart.options.plugins.streaming.frameRate;\n\tvar frameDuration = 1000 / (Math.max(frameRate, 0) || 30);\n\tvar next = streaming.lastDrawn + frameDuration || 0;\n\tvar now = Date.now();\n\tvar lastMouseEvent = streaming.lastMouseEvent;\n\n\tif (next <= now) {\n\t\t// Draw only when animation is inactive\n\t\tif (!chart.animating && !chart.tooltip._start) {\n\t\t\tchart.draw();\n\t\t}\n\t\tif (lastMouseEvent) {\n\t\t\tchart.eventHandler(lastMouseEvent);\n\t\t}\n\t\tstreaming.lastDrawn = (next + frameDuration > now) ? next : now;\n\t}\n}\n\nvar StreamingPlugin = {\n\tid: 'streaming',\n\n\tbeforeInit: function(chart) {\n\t\tvar streaming = chart.streaming = chart.streaming || {};\n\t\tvar canvas = streaming.canvas = chart.canvas;\n\t\tvar mouseEventListener = streaming.mouseEventListener = function(event) {\n\t\t\tvar pos = helpers.getRelativePosition(event, chart);\n\t\t\tstreaming.lastMouseEvent = {\n\t\t\t\ttype: 'mousemove',\n\t\t\t\tchart: chart,\n\t\t\t\tnative: event,\n\t\t\t\tx: pos.x,\n\t\t\t\ty: pos.y\n\t\t\t};\n\t\t};\n\n\t\tcanvas.addEventListener('mousedown', mouseEventListener);\n\t\tcanvas.addEventListener('mouseup', mouseEventListener);\n\t},\n\n\tafterInit: function(chart) {\n\t\tchart.update = update;\n\t\tchart.tooltip.update = tooltipUpdate;\n\t},\n\n\tbeforeUpdate: function(chart) {\n\t\tvar chartOpts = chart.options;\n\t\tvar scalesOpts = chartOpts.scales;\n\n\t\tif (scalesOpts) {\n\t\t\thelpers.each(scalesOpts.xAxes.concat(scalesOpts.yAxes), function(scaleOpts) {\n\t\t\t\tif (scaleOpts.type === 'realtime' || scaleOpts.type === 'time') {\n\t\t\t\t\t// Allow Bézier control to be outside the chart\n\t\t\t\t\tchartOpts.elements.line.capBezierPoints = false;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tif (chart.annotation) {\n\t\t\tAnnotationPlugin.attachChart(chart);\n\t\t} else {\n\t\t\tAnnotationPlugin.detachChart(chart);\n\t\t}\n\n\t\tif (chart.resetZoom) {\n\t\t\tZoomPlugin.attachChart(chart);\n\t\t} else {\n\t\t\tZoomPlugin.detachChart(chart);\n\t\t}\n\n\t\treturn true;\n\t},\n\n\tafterUpdate: function(chart) {\n\t\tvar streaming = chart.streaming;\n\t\tvar pause = true;\n\n\t\tupdateElements(chart);\n\n\t\t// if all scales are paused, stop refreshing frames\n\t\thelpers.each(chart.scales, function(scale) {\n\t\t\tif (scale instanceof RealTimeScale) {\n\t\t\t\tpause &= StreamingHelper.resolveOption(scale, 'pause');\n\t\t\t}\n\t\t});\n\t\tif (pause) {\n\t\t\tStreamingHelper.stopFrameRefreshTimer(streaming);\n\t\t} else {\n\t\t\tStreamingHelper.startFrameRefreshTimer(streaming, function() {\n\t\t\t\tdrawChart(chart);\n\t\t\t});\n\t\t}\n\t},\n\n\tbeforeDatasetDraw: function(chart, args) {\n\t\tvar meta = args.meta;\n\t\tvar chartArea = chart.chartArea;\n\t\tvar clipArea = {\n\t\t\tleft: 0,\n\t\t\ttop: 0,\n\t\t\tright: chart.width,\n\t\t\tbottom: chart.height\n\t\t};\n\t\tif (meta.xAxisID && meta.controller.getScaleForId(meta.xAxisID) instanceof RealTimeScale) {\n\t\t\tclipArea.left = chartArea.left;\n\t\t\tclipArea.right = chartArea.right;\n\t\t}\n\t\tif (meta.yAxisID && meta.controller.getScaleForId(meta.yAxisID) instanceof RealTimeScale) {\n\t\t\tclipArea.top = chartArea.top;\n\t\t\tclipArea.bottom = chartArea.bottom;\n\t\t}\n\t\tcanvasHelpers.clipArea(chart.ctx, clipArea);\n\t\treturn true;\n\t},\n\n\tafterDatasetDraw: function(chart) {\n\t\tcanvasHelpers.unclipArea(chart.ctx);\n\t},\n\n\tbeforeEvent: function(chart, event) {\n\t\tvar streaming = chart.streaming;\n\n\t\tif (event.type === 'mousemove') {\n\t\t\t// Save mousemove event for reuse\n\t\t\tstreaming.lastMouseEvent = event;\n\t\t} else if (event.type === 'mouseout') {\n\t\t\t// Remove mousemove event\n\t\t\tdelete streaming.lastMouseEvent;\n\t\t}\n\t\treturn true;\n\t},\n\n\tdestroy: function(chart) {\n\t\tvar streaming = chart.streaming;\n\t\tvar canvas = streaming.canvas;\n\t\tvar mouseEventListener = streaming.mouseEventListener;\n\n\t\tStreamingHelper.stopFrameRefreshTimer(streaming);\n\n\t\tdelete chart.update;\n\t\tdelete chart.tooltip.update;\n\n\t\tcanvas.removeEventListener('mousedown', mouseEventListener);\n\t\tcanvas.removeEventListener('mouseup', mouseEventListener);\n\n\t\thelpers.each(chart.scales, function(scale) {\n\t\t\tif (scale instanceof RealTimeScale) {\n\t\t\t\tscale.destroy();\n\t\t\t}\n\t\t});\n\t}\n};\n\nChart__default['default'].helpers.streaming = StreamingHelper;\n\nChart__default['default'].plugins.register(StreamingPlugin);\n\nreturn StreamingPlugin;\n\n})));\n"]},"metadata":{},"sourceType":"script"}